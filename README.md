# C++ 线程池

一个基于 C++11 标准的高效线程池库，采用生产者 - 消费者模式实现任务异步执行，支持动态任务提交、结果获取和线程数量管理。适用于网络服务、数据处理、并行计算等需要并发处理任务的场景。

## 核心特性

- **异步任务处理**：支持提交函数、Lambda 表达式等可调用对象，通过`future`获取执行结果
- **线程安全**：使用互斥锁、条件变量等机制确保多线程环境下的安全访问
- **动态配置**：支持固定大小线程池或自动增长模式（通过宏开关控制）
- **资源管理**：析构时自动等待所有任务完成，避免线程泄漏

## 关键参数配置

```cpp
#define THREADPOOL_MAX_NUM 16  // 线程池最大容量  
#define THREADPOOL_AUTO_GROW   // 启用自动增长模式（取消注释生效）
```

## 接口说明

- **commit(F&& f, Args&&... args)**：提交任务并返回`future`用于获取结果
- **idlCount()**：获取空闲线程数量
- **thrCount()**：获取当前线程总数

## 编译要求

- **C++11 及以上编译器**（支持`std::thread`、`std::future`等特性）
- 无需额外依赖，仅需包含头文件即可使用

## 注意事项

- 类成员函数需通过 **`std::bind`绑定实例 ** 后提交
- 任务异常会被捕获但不向上传播，建议在任务中自行处理异常
- 自动增长模式下线程数不超过 **`THREADPOOL_MAX_NUM`**